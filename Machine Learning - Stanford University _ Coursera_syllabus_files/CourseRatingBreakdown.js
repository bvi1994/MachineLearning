define("bundles/content-feedback/components/rating-dashboard/CourseRatingBreakdown",["require","exports","module","underscore","react","bundles/content-feedback/models/CourseRatingStats","js/lib/coursera.react-intl","react-bootstrap","i18n!nls/content-feedback","bundles/content-feedback/constants/RatingValues","css!./__styles__/CourseRatingBreakdown"],function(require,exports,module){"use strict";function _defaults(e,a){for(var o=Object.getOwnPropertyNames(a),t=0;t<o.length;t++){var r=o[t],n=Object.getOwnPropertyDescriptor(a,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,n,a,t,_=require("underscore"),e=require("react"),d=require("bundles/content-feedback/models/CourseRatingStats"),o=require("js/lib/coursera.react-intl"),s=o.FormattedMessage,u=o.FormattedNumber,c=require("react-bootstrap"),l=c.OverlayTrigger,p=c.Tooltip,i=require("i18n!nls/content-feedback"),f=require("bundles/content-feedback/constants/RatingValues");require("css!./__styles__/CourseRatingBreakdown");var m=(n=r=function(t){function CourseRatingPercent(){return _classCallCheck(this,CourseRatingPercent),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(CourseRatingPercent,t),CourseRatingPercent.prototype.render=function render(){var t={width:this.props.percent+"%"},r=this.props.count||"0",n=e.createElement(p,null,e.createElement(s,{message:i("{value} learners"),value:e.createElement(u,{value:r})}));return e.createElement(l,{placement:"top",overlay:n},e.createElement("div",{className:"rc-CourseRatingPercent"},e.createElement("div",{className:"c-course-rating-percent-label"},this.props.ratingValue.label),e.createElement("div",{className:"c-course-rating-percent-meter"},e.createElement("div",{className:"c-course-rating-percent-meter-bar",style:t})),e.createElement("div",{className:"c-course-rating-percent-value"},e.createElement(s,{message:i("{value} %"),value:this.props.percent||"0"}))))},CourseRatingPercent}(e.Component),r.propTypes={ratingValue:e.PropTypes.object.isRequired,count:e.PropTypes.number.isRequired,percent:e.PropTypes.number.isRequired},n),b=(t=a=function(t){function CourseRatingBreakdown(){return _classCallCheck(this,CourseRatingBreakdown),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(CourseRatingBreakdown,t),CourseRatingBreakdown.prototype.render=function render(){var t=this.props.courseRatingStats,r=_(f).filter(function(e){return-1!==e.value});return e.createElement("div",{className:"rc-CourseRatingBreakdown"},r.map(function(r,n){var a=t.getCount(r),o=t.getPercent(r);return e.createElement(m,{key:n,ratingValue:r,count:a,percent:o})}))},CourseRatingBreakdown}(e.Component),a.propTypes={courseRatingStats:e.PropTypes.instanceOf(d).isRequired},t);module.exports=b});