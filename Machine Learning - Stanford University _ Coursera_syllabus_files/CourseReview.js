define("bundles/content-feedback/components/rating-dashboard/CourseReview",["require","exports","module","react","moment","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/cml/components/CML","bundles/content-feedback/actions/CourseRatingActions","bundles/content-feedback/components/rating/CourseRatingIcons","bundles/content-feedback/models/RatingFeedback","bundles/reply-message/components/ReplyMessage","bundles/reply-message/constants/ReplyMessageConstants","css!./__styles__/CourseReview"],function(require,exports,module){"use strict";function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},t,n,e=require("react"),s=require("moment"),r=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),c=require("bundles/cml/components/CML"),a=require("bundles/content-feedback/actions/CourseRatingActions"),i=a.deleteFeedback,u=require("bundles/content-feedback/components/rating/CourseRatingIcons"),l=require("bundles/content-feedback/models/RatingFeedback"),p=require("bundles/reply-message/components/ReplyMessage"),d=require("bundles/reply-message/constants/ReplyMessageConstants"),m=d.EntryTypes;require("css!./__styles__/CourseReview");var b=(n=t=function(t){function CourseReview(){var r,e,o;_classCallCheck(this,CourseReview);for(var s=arguments.length,c=Array(s),n=0;s>n;n++)c[n]=arguments[n];return r=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(c))),e.deleteFeedback=function(){confirm("Are you sure you want to delete this?")&&e.context.executeAction(i,e.props.ratingFeedback.id)},o=r,_possibleConstructorReturn(e,o)}return _inherits(CourseReview,t),CourseReview.prototype.render=function render(){var n=this.props,t=n.ratingFeedback,r=n.isSuperuser,o=t.value,a=t.comment,i=t.timestamp,l=t.id,d=s(i).format("D MMM YYYY");return e.createElement("div",{className:"rc-CourseReview"},e.createElement("div",{className:"c-course-review-content"},r&&e.createElement("button",{className:"delete-feedback-container button-link",onClick:this.deleteFeedback},e.createElement("i",{className:"delete-feedback"})),e.createElement("div",{className:"c-course-review-header"},e.createElement("div",{className:"c-course-review-timestamp"},d)),e.createElement(u,{value:o}),e.createElement(c,{cml:a}),this.context.isAdminView&&e.createElement(p,{entryId:l,entryType:m.Feedback})))},CourseReview}(e.Component),t.propTypes={ratingFeedback:e.PropTypes.instanceOf(l).isRequired,isSuperuser:e.PropTypes.bool.isRequired},t.contextTypes={executeAction:e.PropTypes.func.isRequired,isAdminView:e.PropTypes.bool},n);module.exports=r(b,["ApplicationStore"],function(e,t){var n=e.ApplicationStore,r=n.isSuperuser();return o({},t,{isSuperuser:r})})});