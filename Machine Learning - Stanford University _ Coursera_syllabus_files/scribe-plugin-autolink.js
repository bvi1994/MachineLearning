define("bundles/scribe-plugins/scribe-plugin-autolink",["require","exports","module"],function(require,exports,module){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},e=/https?:\/\/[^ \r\n\t]+/gim,t=function getLinkedNodesFromText(t,n){n=n||[],e.exec("");var u=e.exec(t);if(u){var r=u[0],o=t.split(r);o[0]&&n.push(document.createTextNode(o[0]));var i=document.createElement("a");return i.setAttribute("href",r),i.innerHTML=r,n.push(i),getLinkedNodesFromText(o[1],n)}return t&&n.push(document.createTextNode(t)),n};module.exports=function(){return function(r){function handleKeydown(u){var o=u.keyCode;if(9===o||13===o||32===o){var i=function(){var i=new r.api.Selection,o=i.range;if(!o)return{v:void 0};var n=o.endContainer,u=n.parentNode;3===n.nodeType&&!function(){var c=n.textContent;e.test(c)&&r.transactionManager.run(function(){var e=t(c);e.forEach(function(e){u.insertBefore(e,n)}),o.setEndAfter(n),u.removeChild(n),o.collapse(),i.selection.removeAllRanges(),i.selection.addRange(o)})}()}();if("object"===("undefined"==typeof i?"undefined":n(i)))return i.v}}r.el.addEventListener("keydown",handleKeydown)}}});