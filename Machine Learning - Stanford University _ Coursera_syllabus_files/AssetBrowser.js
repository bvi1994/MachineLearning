define("bundles/asset-admin/components/AssetBrowser",["require","exports","module","react","./AssetsList","./AssetsListHeader","bundles/teach-course/components/BounceLoader","bundles/teach-course/components/TeachInfiniteScroll","bundles/asset-admin/actions/AssetAdminActions","css!./__styles__/AssetBrowser"],function(require,exports,module){"use strict";function _defaults(e,r){for(var o=Object.getOwnPropertyNames(r),t=0;t<o.length;t++){var s=o[t],n=Object.getOwnPropertyDescriptor(r,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,s,e=require("react"),n=require("./AssetsList"),r=require("./AssetsListHeader"),o=require("bundles/teach-course/components/BounceLoader"),a=require("bundles/teach-course/components/TeachInfiniteScroll"),i=require("bundles/asset-admin/actions/AssetAdminActions"),c=i.getAssetsListByCourse;require("css!./__styles__/AssetBrowser");var l=(s=t=function(t){function AssetBrowser(){var n,e,r;_classCallCheck(this,AssetBrowser);for(var o=arguments.length,a=Array(o),s=0;o>s;s++)a[s]=arguments[s];return n=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(a))),e.state={isLoading:!1},e.handleInfiniteScroll=function(){var t=e.props,n=t.courseId,s=t.nextPageIndex;s&&(e.setState({isLoading:!0}),e.context.executeAction(c,{courseId:n,nextPageIndex:s}))},r=n,_possibleConstructorReturn(e,r)}return _inherits(AssetBrowser,t),AssetBrowser.prototype.getChildContext=function getChildContext(){return{scrollContainer:".rc-AssetAdminModal .scrollable-assets-list"}},AssetBrowser.prototype.componentDidUpdate=function componentDidUpdate(e){e.nextPageIndex!==this.props.nextPageIndex&&this.setState({isLoading:!1})},AssetBrowser.prototype.render=function render(){var t=this.props,s=t.assets,i=t.selectedAssets,c=t.allowMultiple,l=t.hideHeader;return e.createElement("div",{className:"rc-AssetBrowser"},e.createElement("div",{className:"assets-wrapper"},!s&&e.createElement("div",{className:"assets-loading-state"},e.createElement(o,null)),!l&&e.createElement(r,null),s&&e.createElement("div",{className:"scrollable-assets-list"},e.createElement(a,{isLoading:this.state.isLoading,onInfiniteScroll:this.handleInfiniteScroll},e.createElement(n,{assets:s,selectedAssets:i,allowMultiple:c})))))},AssetBrowser}(e.Component),t.propTypes={courseId:e.PropTypes.string.isRequired,assets:e.PropTypes.array,selectedAssets:e.PropTypes.array,nextPageIndex:e.PropTypes.string,allowMultiple:e.PropTypes.bool,hideHeader:e.PropTypes.bool},t.contextTypes={executeAction:e.PropTypes.func.isRequired},t.childContextTypes={scrollContainer:e.PropTypes.string},s);module.exports=l});